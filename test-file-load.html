<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ–‡ä»¶åŠ è½½æµ‹è¯•</title>
</head>
<body>
    <h1>æ–‡ä»¶åŠ è½½æµ‹è¯•é¡µé¢</h1>
    
    <h2>æµ‹è¯•é“¾æ¥ï¼š</h2>
    <ul>
        <li><a href="markdown-editor.html?file=.\article\article\%F0%9F%93%9A%20%E5%9B%9B%E5%B7%9D%E7%9C%81%E5%8F%8C%E6%B5%81%E4%B8%AD%E5%AD%A6%202025-2026%20%E5%AD%A6%E5%B9%B4%E4%B8%8A%E6%9C%9F%E7%AC%AC%E4%B8%80%E6%AC%A1%E8%B4%A8%E9%87%8F%E7%9B%91%E6%B5%8B.md&show=all">
            æµ‹è¯•URLï¼ˆåŒ…å«Windowsè·¯å¾„å’ŒURLç¼–ç ï¼‰
        </a></li>
        <li><a href="markdown-editor.html?file=ğŸ“š å››å·çœåŒæµä¸­å­¦ 2025-2026 å­¦å¹´ä¸ŠæœŸç¬¬ä¸€æ¬¡è´¨é‡ç›‘æµ‹&show=all">
            ç®€åŒ–URLï¼ˆç›´æ¥ä½¿ç”¨æ–‡ä»¶åï¼‰
        </a></li>
        <li><a href="markdown-editor.html?file=article/article/ğŸ“š å››å·çœåŒæµä¸­å­¦ 2025-2026 å­¦å¹´ä¸ŠæœŸç¬¬ä¸€æ¬¡è´¨é‡ç›‘æµ‹.md&show=all">
            å®Œæ•´è·¯å¾„URL
        </a></li>
    </ul>
    
    <h2>è°ƒè¯•ä¿¡æ¯ï¼š</h2>
    <div id="debug-info"></div>
    
    <script>
        // æ˜¾ç¤ºå½“å‰URLå‚æ•°
        const urlParams = new URLSearchParams(window.location.search);
        const fileParam = urlParams.get('file');
        const showParam = urlParams.get('show');
        
        const debugInfo = document.getElementById('debug-info');
        debugInfo.innerHTML = `
            <p><strong>å½“å‰URLå‚æ•°ï¼š</strong></p>
            <p>file: ${fileParam || 'æ— '}</p>
            <p>show: ${showParam || 'æ— '}</p>
            <p><strong>æ–‡ä»¶è·¯å¾„æµ‹è¯•ï¼š</strong></p>
        `;
        
        // æµ‹è¯•è·¯å¾„æ¸…ç†åŠŸèƒ½
        if (fileParam) {
            const testPaths = [
                fileParam,
                '.\\article\\article\\æµ‹è¯•æ–‡ä»¶.md',
                'article/article/æµ‹è¯•æ–‡ä»¶.md',
                'æµ‹è¯•æ–‡ä»¶'
            ];
            
            testPaths.forEach(path => {
                const cleaned = cleanFilePath(path);
                debugInfo.innerHTML += `<p>åŸå§‹: "${path}" â†’ æ¸…ç†å: "${cleaned}"</p>`;
            });
        }
        
        function cleanFilePath(filePath) {
            // è§£ç URLç¼–ç 
            let cleanedPath = decodeURIComponent(filePath);
            
            // æ›¿æ¢Windowsè·¯å¾„åˆ†éš”ç¬¦
            cleanedPath = cleanedPath.replace(/\\/g, '/');
            
            // ç§»é™¤å¼€å¤´çš„./æˆ–.\
            cleanedPath = cleanedPath.replace(/^\.\//, '');
            
            // å¦‚æœè·¯å¾„åŒ…å«article/article/ï¼Œç®€åŒ–ä¸ºarticle/
            cleanedPath = cleanedPath.replace(/article\/article\//g, 'article/');
            
            // ç¡®ä¿ä»¥æ­£ç¡®çš„è·¯å¾„å¼€å¤´
            if (!cleanedPath.startsWith('article/')) {
                cleanedPath = 'article/' + cleanedPath;
            }
            
            // ç¡®ä¿ä»¥.mdç»“å°¾
            if (!cleanedPath.toLowerCase().endsWith('.md')) {
                cleanedPath += '.md';
            }
            
            return cleanedPath;
        }
    </script>
</body>
</html>